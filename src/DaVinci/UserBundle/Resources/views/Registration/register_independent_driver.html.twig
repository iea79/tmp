{% trans_default_domain 'FOSUserBundle' %}
{% extends 'DaVinciTaxiBundle::base.html.twig' %}
{% block theme 'register' %}
{% form_theme form _self %}
{% block form_errors  %}
    {% spaceless %}
        {% if errors|length > 0 %}
            <ul class="errors">
                {% for error in errors %}
                    <li>{{ error.message }}</li>
                    {% endfor %}
            </ul>
        {% endif %}
    {% endspaceless %}
{% endblock form_errors %}
{% block title %}
<div class="wrapper-content title">
	<span>{{ 'Independent Driver: Professional Office'|trans}}</span>
	<div class="utooltip" data-uk-tooltip="{pos:'left'}" title="Make more money from international passengers" data-cached-title="Make more money from international passengers"></div>
</div>
{% endblock%}

{% block body %}
    <div class="wrapper-content"><div class="content register">
            <form  action="{{ path('register_independent_driver') }}" {{ form_enctype(form) }} method="POST" class="uk-form uk-form-horizontal">
                <fieldset>
                    {% if flow.getCurrentStepNumber() == 1 %}
                        {{ form_errors(form) }}
                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'Independent driver:'|trans}}</span>
                            <div class="uk-form-controls">
                                <div class="uk-form-label pinktext uk-width-1-1  float_left">{% if app.user %}{{ app.user.firstname }} {{ app.user.lastname }}{% endif %}</div>
                            </div>
                        </label>

                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.country'|trans }}:</span>
                            <div class="uk-form-controls">
                                <div data-uk-form-select="" class="uk-form-select select uk-width-1-1 float_left">
                                    <span></span>
                                    <i class="uk-icon-caret-down"></i>

                                    {{ form_widget(form.address.country,
        {'attr':{'class': 'country_selector',
                 'tabindex':'1'}}) }}
                                </div>
                            </div>
                            {{ form_errors(form.address.country) }}
                        </label>
                        <label class="uk-form-row rowcity"><span class="uk-form-label uk-width-2-5 text">{{ 'form.company_city'|trans }}:</span>
                            <div class="uk-form-controls">
                                <div data-uk-form-select="" class="uk-form-select select uk-width-1-1 float_left">
                                    <span></span>
                                    <i class="uk-icon-caret-down"></i>

                                    {{ form_widget(form.address.city,
        {'attr':{'class': 'city_selector',
                 'tabindex':'2'}}) }}
                                </div>
                            </div>
                            {{ form_errors(form.address.city) }}
                        </label>
                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.english'|trans }}:</span>
                            <div class="uk-form-controls">
                                <div data-uk-form-select="" class="uk-form-select select uk-width-1-1 float_left">
                                    <span></span>
                                    <i class="uk-icon-caret-down"></i>
                                    {{ form_widget(form.language.level,
                                {'attr':{'tabindex':'3'}}) }}
                                </div>
                                <div class="utooltip" data-uk-tooltip="{pos:'left'}" title="{{ 'Choose the level'|trans}}:" data-cached-title="{{ 'Choose the level'|trans}}:"></div>
                            </div>
                        </label>
                        <input hidden id="language_prototype" value = "<div data-uk-form-select='' class='uk-form-select select uk-width-1-1 float_left addlang'>
                               <i class='uk-icon-caret-down'></i>{{ form_widget(form.language.languages.vars.prototype,{'attr':{'tabindex':'4'}})|e }}</div>">
                        <label class="addlangline  uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.other_language'|trans }}:</span>
                            <div class="uk-form-controls">
                                {% for lang in form.language.languages %}
                                    <div data-uk-form-select="" class="uk-form-select select uk-width-1-1 float_left addlang">
                                        <span></span>
                                        <i class="uk-icon-caret-down"></i>
                                        {{ form_errors(lang) }}
                                        {{ form_widget(lang) }}
                                    </div>
                                {% endfor %}
                                <div class="addotherlanguage uk-width-1-1 float_left">{{ 'Add language'|trans}}</div>

                                <div class="utooltip" data-uk-tooltip="{pos:'left'}" title="{{ 'Mark additional language'|trans}}" data-cached-title="{{ 'Mark additional language'|trans}}"></div>
                            </div>
                        </label>
                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.driving_experience'|trans }}:</span>
                            <div class="uk-form-controls">
                                <div data-uk-form-select="" class="uk-form-select select uk-width-1-1 float_left">
                                    <span></span>
                                    <i class="uk-icon-caret-down"></i>
                                    {{ form_widget(form.experience, {'attr':{'tabindex':'5'}}) }}
                                </div>
                                <div class="utooltip" data-uk-tooltip="{pos:'left'}" title="{{ 'Select an option'|trans}}" data-cached-title="{{ 'Select an option'|trans}}"></div>
                            </div>
                        </label>
                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.skype'|trans }}:</span>
                            <div class="uk-form-controls">
                                {{ form_widget(form.skype,
                            {'attr':{'class': 'uk-width-1-1 float_left',
                                     'tabindex':'6'}}) }}
                                <div class="utooltip" data-uk-tooltip="{pos:'left'}" title="{{ 'Write legitimate skype name'|trans}}" data-cached-title="{{ 'Write legitimate skype name'|trans}}"></div>
                            </div>
                        </label>
                        <label class="addphoneline uk-form-row">
                            <div class="twolabels uk-width-2-5">
                                <span class="uk-form-label  text">{{ 'form.mobile'|trans }}:</span>
                                <span class="uk-form-label text">{{ 'Mark if you have'|trans }} </span>
                            </div>


                            <div class="uk-form-controls addphoneareas">
                                {% for phones in form.phones %}  
                                    {{ include('DaVinciUserBundle:Registration:register_phone_block.html.twig', {'phones': phones}) }}
                                {% endfor %}      
                                <div class="uk-form-controls addphone" id="addphone">
                                    {{'Add mobile number'|trans }}
                                </div>
                            </div>   
                            <input hidden id="phone_prototype" value = "{{ form_widget(form.phones.vars.prototype.phone,
        {'attr':{'class': 'uk-width-1-1 float_left phoneinput',
                 'tabindex':'7'}})|e }}">
                            <input hidden id="internet_prototype" value = "{{ form_widget(form.phones.vars.prototype.has_internet,
        {'attr':{'tabindex':'8'}})|e }}">
                            <input hidden id="whatsapp_prototype" value = "{{ form_widget(form.phones.vars.prototype.has_whatsapp,
        {'attr':{'tabindex':'9'}})|e }}">
                            <input hidden id="phone_block_prototype" value="{{ include('DaVinciUserBundle:Registration:register_phone_block.html.twig')|e }}">


                        </label>

                        <div class="uk-button-group uk-width-4-5">
                            <button class="uk-button submit nextbutt uk-width-4-5">{{ 'Create Office'|trans}}</button>
                        </div>
                    {% elseif flow.getCurrentStepNumber() == 2 %}

                        {{ form_errors(form) }}
                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'Independent driver'|trans}}:</span>
                            <div class="uk-form-controls">
                                <div class="label-info uk-width-1-1  float_left">{% if app.user %}{{ app.user.firstname }} {{ app.user.lastname }}{% endif %}</div>
                            </div>
                        </label>

                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.country'|trans }}:</span>
                            <div class="uk-form-controls">
                                <div class="label-info uk-width-1-1  float_left">{{ flow.formData.address.country.country }}</div>
                            </div>
                        </label>
                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.city'|trans }}:</span>
                            <div class="uk-form-controls">
                                <div class="label-info uk-width-1-1  float_left">{{ flow.formData.address.city }}</div>
                            </div>
                        </label>
                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.english'|trans }}:</span>
                            <div class="uk-form-controls">
                                <div class="label-info uk-width-1-1  float_left">{{ flow.formData.user.language.levelNamed }}</div>
                            </div>
                        </label>

                        <label class="addlangline  uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.other_language'|trans }}:</span>
                            <div class="uk-form-controls">
                                <div class="label-info uk-width-1-1  float_left">
                                    {% for lang in flow.formData.user.language.languagesNamed %} 
                                        {{ lang }} 
                                    {% endfor %}
                                </div>
                            </div>
                        </label>
                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.driving_experience'|trans }}:</span>
                            <div class="uk-form-controls">
                                <div class="label-info uk-width-1-1  float_left">{{ flow.formData.experienceNamed }}</div>
                            </div>
                        </label>
                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.skype'|trans }}:</span>
                            <div class="uk-form-controls">
                                <div class="label-info uk-width-1-1  float_left">{{ flow.formData.user.skype }}</div>
                            </div>
                        </label>

                        <label class="uk-form-row"><span class="uk-form-label uk-width-2-5 text">{{ 'form.mobile'|trans }}:</span>
                            <div class="uk-form-controls">
                                <div class="label-info uk-width-1-1  float_left"> 
                                    {% for phones in flow.formData.phones %} 
                                        {{ phones.phone }} 
                                    {% endfor %}
                                </div>
                            </div>
                        </label>
                        <div class="uk-button-group uk-width-4-8">
                            <button class="uk-button submit nextbutt uk-width-4-10 float_right">{{ 'Finish'|trans}}</button>
                            <button class="uk-button submit nextbutt backbutt uk-width-4-10 float_left" name="{{ flow.getFormTransitionKey() }}" value="back" formnovalidate="formnovalidate">< {{ 'Edit'|trans}}</button>
                            <div class="clear"></div>
                        </div>
                    {% endif %}
                    {{ form_rest(form) }}
                </fieldset>
            </form>


        </div>
    </div>
{% endblock %}