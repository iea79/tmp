{% trans_default_domain 'FOSUserBundle' %}
{% extends 'DaVinciTaxiBundle::base.html.twig' %}
{% block theme 'register' %}

{% form_theme form _self %}
{% block form_errors  %}
    {% spaceless %}
        {% if errors|length > 0 %}
            <ul class="errors">
                {% for error in errors %}
                    <li>{{ error.message }}</li>
                    {% endfor %}
            </ul>
        {% endif %}
    {% endspaceless %}
{% endblock form_errors %}

{% block title %}
	<div class="wrapper-content title">
		<span>{{ 'Taxi Company: Business Office'|trans}}</label>
		<div class="utooltip" data-uk-tooltip="{pos:'left'}" title="{% trans %}Make more money from international passengers{% endtrans %}" data-cached-title="{% trans %}Make more money from international passengers{% endtrans %}"></div>
	</div>
{% endblock%}

{% block body %}
	<div class="wrapper-content">
		<div class="content register">
			<form action="{{ path('register_company') }}" {{ form_enctype(form) }} method="POST" class="uk-form uk-form-horizontal uk-form-stacked">
				<fieldset>
					<!-- Begin first step doregistration -->
					{% if flow.getCurrentStepNumber() == 1 %}
						{{ form_errors(form) }}

						<!-- Begin Line name -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'Taxi company owner'|trans }}:</label>
							<div class="uk-form-controls">
								<div class="uk-form-label pinktext uk-width-1-1  float_left">{% if app.user %}{{ app.user.firstname }} {{ app.user.lastname }}{% endif %}</div>
							</div>
						</div>
						<!-- End Line name -->

						<!-- Begin Line name company-->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.name_company'|trans }}:</label>
							<div class="uk-form-controls">
								{{ form_widget(form.name, {'attr':{'class': 'uk-width-1-1 float_left', 'tabindex':'1','autofocus':''} }) }}
								<div class="utooltip" data-uk-tooltip="{pos:'left'}" title="{% trans %}Enter Name of organization{% endtrans %}" data-cached-title="{% trans %}Enter Name of organization{% endtrans %}"></div>
							</div>
							{{ form_errors(form.name) }}
						</div>
						<!-- End Line name company-->
						
						<!-- Begin Line number cars-->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.number_cars'|trans }}:</label>
							<div class="uk-form-controls">
								<div class="uk-form-select select uk-width-1-1 float_left" data-uk-form-select=""  data-uk-observe>
									<span>Please select ...</span>
									<i class="uk-icon-caret-down"></i>
									{{ form_widget(form.cars_amount, {'attr':{'class': 'uk-width-1-1 float_left','tabindex':'2'}}) }}
								</div>
								<div class="utooltip" data-uk-tooltip="{pos:'left'}" title="{% trans %}Taxi Company starts from 5+ cars{% endtrans %}" data-cached-title="{% trans %}Taxi Company starts from 5+ cars{% endtrans %}"></div>
							</div>
							{{ form_errors(form.cars_amount) }}
						</div>
						<!-- End Line number cars-->

						<!-- Begin Line country -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.country'|trans }}:</label>
							<div class="uk-form-controls">
								<div class="uk-form-select select uk-width-1-1 float_left" data-uk-form-select="" data-uk-observe="">
									<span>Please select ...</span>
									<i class="uk-icon-caret-down"></i>
									{{ form_widget(form.address.country, {'attr':{'class': 'uk-width-1-1 float_left country_selector', 'data-errormessage-value-missing': 'Country is required',  'data-errormessage': 'Country is required', 'tabindex':'3'}}) }}
								</div>

								<div class="utooltip" data-uk-tooltip="{pos:'left'}" title="{{ 'Region/State, City'|trans}}" data-cached-title="{{ 'Region/State, City'|trans}}"></div>
							</div>
							{{ form_errors(form.address.country) }}
						</div>
						<!-- End Line country -->
						
						<!-- Begin Line city -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.company_city'|trans }}:</label>
							<div class="uk-form-controls">
								<div class="uk-form-select select uk-width-1-1 float_left" data-uk-form-select=""  data-uk-observe>
									<span>Please select ...</span>
									<i class="uk-icon-caret-down"></i>
									{{ form_widget(form.address.city, {'attr':{'class': 'uk-width-1-1 float_left city_selector', 'data-errormessage-value-missing': 'City is required',  'data-errormessage': 'City is required', 	'tabindex':'4'}}) }}
								</div>
							</div>
							{{ form_errors(form.address.city) }}
						</div>
						<!-- End Line city -->
						
						<!-- Begin Line street -->
						<div class="uk-form-row" >
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.company_address'|trans }}:</label>
							<div class="uk-form-controls">
								{{ form_widget(form.address.street,	{'attr':{'class': 'uk-width-1-1 float_left', 'tabindex':'5'}}) }}
							</div>
							{{ form_errors(form.address.street) }}
						</div>
						<!-- End Line street -->

						<!-- Begin Line skype -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'Skype'|trans }}:</label>
							<div class="uk-form-controls">
								{{ form_widget(form.skype,	{'attr':{'class': 'uk-width-1-1 float_left', 'data-errormessage-value-missing': 'Please enter your Skype',  'data-errormessage': 'Please enter your Skype', 'tabindex':'6'}}) }}
								<div class="utooltip" data-uk-tooltip="{pos:'left'}" title="{% trans %}Write legitimate skype name{% endtrans %}" data-cached-title="{% trans %}Write legitimate skype name{% endtrans %}"></div>
							</div>
							{{ form_errors(form.skype) }}
						</div>
						<!-- End Line skype -->

						<!-- Begin Line mobile -->
						<div class="addphoneline uk-form-row">
							<div class="twolabels uk-width-2-5">
								<label class="uk-form-label  text" for="taxi_independent_driver_registration_phones_0_phone">{{ 'form.mobile'|trans }}:</label>
								<label class="uk-form-label text">{{ 'Mark if you have'|trans }} </label>
							</div>
							<div class="uk-form-controls addphoneareas">
								{% for phones in form.phones %}  
									{{ include('DaVinciUserBundle:Registration:register_phone_block.html.twig', {'phones': phones}) }}
								{% endfor %}      
								<div class="uk-form-controls addphone" id="addphone">
									{{'Add mobile number'|trans }}
								</div>
							</div>   
							<input hidden id="phone_prototype" value = "{{ form_widget(form.phones.vars.prototype.phone, {'attr':{'class': 'uk-width-1-1 float_left phoneinput', 'tabindex':'7'}})|e }}">
							<input hidden id="internet_prototype" value = "{{ form_widget(form.phones.vars.prototype.has_internet, {'attr':{'tabindex':'8'}})|e }}">
							<input hidden id="whatsapp_prototype" value = "{{ form_widget(form.phones.vars.prototype.has_whatsapp, {'attr':{'tabindex':'9'}})|e }}">
							<input hidden id="phone_block_prototype" value="{{ include('DaVinciUserBundle:Registration:register_phone_block.html.twig')|e }}">
						</div>
						<!-- End Line mobile -->

						<!-- Begin Line button -->
						<div class="uk-button-group uk-width-4-5">
							<button class="uk-button submit nextbutt uk-width-4-5">{{'Create Office'|trans }}</button>
						</div>
						<!-- End Line button -->
						
					<!-- End first step doregistration -->
					{% elseif flow.getCurrentStepNumber() == 2 %}
					<!-- Begin second step doregistration -->

						<!-- Begin Line name -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'Taxi company owner:'|trans }}</label>
							<div class="uk-form-controls">
								<div class="label-info  uk-width-1-1  float_left">{% if app.user %}{{ app.user.firstname }} {{ app.user.lastname }}{% endif %}</div>
							</div>
						</div>
						<!-- End Line name -->
						
						<!-- Begin Line name company -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.name_company'|trans }}:</label>
							<div class="uk-form-controls">
								<div class="label-info uk-width-1-1  float_left">{{ flow.formData.name }}</div>
							</div>
						</div>
						<!-- End Line name company -->
						
						<!-- Begin Line numbers cars -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.number_cars'|trans }}:</label>
							<div class="uk-form-controls">
								<div class="label-info uk-width-1-1  float_left"> ~ {{ flow.formData.carsAmount }}</div>
							</div>
						</div>
						<!-- End Line numbers cars -->

						<!-- Begin Line  country -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.country'|trans }}:</label>
							<div class="uk-form-controls">
								<div class="label-info uk-width-1-1  float_left">{{ flow.formData.address.country.country }}</div>
							</div>
						</div>
						<!-- End Line  country -->

						<!-- Begin Line  city -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.company_city'|trans }}:</label>
							<div class="uk-form-controls">
								<div class="label-info uk-width-1-1  float_left">{{ flow.formData.address.city }}</div>
							</div>
						</div>
						<!-- End Line  city -->

						<!-- Begin Line  street -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.company_address'|trans }}:</label>
							<div class="uk-form-controls">
								<div class="label-info uk-width-1-1  float_left">{{ flow.formData.address.street }}</div>
							</div>
						</div>
						<!-- End Line  street -->

						<!-- Begin Line  skype -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.skype'|trans }}:</label>
							<div class="uk-form-controls">
								<div class="label-info uk-width-1-1  float_left">{{ flow.formData.skype }}</div>
							</div>
						</div>
						<!-- End Line  skype -->

						<!-- Begin Line  mobile -->
						<div class="uk-form-row">
							<label class="uk-form-label uk-width-2-5 text">{{ 'form.mobile'|trans }}:</label>
							<div class="uk-form-controls">
								<div class="label-info uk-width-1-1  float_left"> 
									{% for phones in flow.formData.phones %} 
										{{ phones.phone }} 
									{% endfor %}
								</div>
							</div>
						</div>
						<!-- Begin Line  mobile -->

						<!-- Begin Line  button -->
						<div class="uk-button-group uk-width-4-8">
							<button class="uk-button submit nextbutt uk-width-4-10 float_right">{{ 'Finish'|trans }}</button>
							<button class="uk-button submit nextbutt backbutt uk-width-4-10 float_left" name="{{ flow.getFormTransitionKey() }}" value="back" formnovalidate="formnovalidate">< {{ 'Edit'|trans }}</button>
							<div class="clear"></div>
						</div>
						<!-- End Line  button -->
					{% endif %}
					<!-- End second step doregistration -->
					{{ form_rest(form) }}
				</fieldset>
			</form>
		</div>
	</div>            
{% endblock %}